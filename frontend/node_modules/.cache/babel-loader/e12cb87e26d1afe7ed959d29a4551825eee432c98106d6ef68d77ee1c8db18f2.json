{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\clyde\\\\Desktop\\\\expense-tracker\\\\frontend\\\\src\\\\components\\\\AnalyticsDisplay.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AnalyticsDisplay() {\n  _s();\n  // Set default to the current month/year for initial load\n  const now = new Date();\n  const [selectedMonth, setSelectedMonth] = useState(String(now.getMonth() + 1).padStart(2, '0')); // 01-12\n  const [selectedYear, setSelectedYear] = useState(String(now.getFullYear()));\n  const [analyticsData, setAnalyticsData] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Array of months for the dropdown\n  const monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n  const fetchAnalytics = async () => {\n    setLoading(true);\n    setError(null);\n    setAnalyticsData(null);\n    try {\n      const url = `http://localhost:5000/expenses/analytics?year=${selectedYear}&month=${selectedMonth}`;\n      const res = await fetch(url);\n      if (!res.ok) {\n        throw new Error(`Failed to fetch analytics (Status: ${res.status})`);\n      }\n      const data = await res.json();\n      setAnalyticsData(data);\n    } catch (err) {\n      setError(err.message);\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchAnalytics();\n  }, [selectedMonth, selectedYear]);\n  const renderContent = () => {\n    if (loading) return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading analytics...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }, this);\n    if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red'\n      },\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 23\n    }, this);\n    if (!analyticsData || analyticsData.totalSpending === \"0.00\") {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No expense data found for the selected month.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"Summary for \", monthNames[parseInt(selectedMonth, 10) - 1], \" \", selectedYear]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Total Spending:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 12\n        }, this), \" $\", analyticsData.totalSpending]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Avg. Daily Expenditure:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 12\n        }, this), \" $\", analyticsData.averageDailyExpenditure]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"Category Breakdown:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: analyticsData.categoryBreakdown.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [item.category, \": $\", item.total]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      border: '1px solid #ddd',\n      padding: '20px',\n      margin: '20px 0',\n      background: '#f9f9f9'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Analytics\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '15px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: selectedMonth,\n        onChange: e => setSelectedMonth(e.target.value),\n        style: {\n          marginRight: '10px'\n        },\n        children: monthNames.map((name, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: String(index + 1).padStart(2, '0'),\n          children: name\n        }, index + 1, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: selectedYear,\n        onChange: e => setSelectedYear(e.target.value),\n        min: \"2000\",\n        max: String(now.getFullYear() + 1),\n        style: {\n          width: '80px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), renderContent()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n}\n_s(AnalyticsDisplay, \"JgTB93akSjokDox+dmj/dBHRtLU=\");\n_c = AnalyticsDisplay;\nvar _c;\n$RefreshReg$(_c, \"AnalyticsDisplay\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","AnalyticsDisplay","_s","now","Date","selectedMonth","setSelectedMonth","String","getMonth","padStart","selectedYear","setSelectedYear","getFullYear","analyticsData","setAnalyticsData","loading","setLoading","error","setError","monthNames","fetchAnalytics","url","res","fetch","ok","Error","status","data","json","err","message","console","renderContent","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","totalSpending","parseInt","averageDailyExpenditure","categoryBreakdown","map","item","index","category","total","border","padding","margin","background","marginBottom","value","onChange","e","target","marginRight","name","type","min","max","width","_c","$RefreshReg$"],"sources":["C:/Users/clyde/Desktop/expense-tracker/frontend/src/components/AnalyticsDisplay.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nexport default function AnalyticsDisplay() {\r\n  // Set default to the current month/year for initial load\r\n  const now = new Date();\r\n  const [selectedMonth, setSelectedMonth] = useState(String(now.getMonth() + 1).padStart(2, '0')); // 01-12\r\n  const [selectedYear, setSelectedYear] = useState(String(now.getFullYear()));\r\n  \r\n  const [analyticsData, setAnalyticsData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  \r\n  // Array of months for the dropdown\r\n  const monthNames = [\r\n    \"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \r\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"\r\n  ];\r\n\r\n\r\n  const fetchAnalytics = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    setAnalyticsData(null);\r\n\r\n    try {\r\n      const url = `http://localhost:5000/expenses/analytics?year=${selectedYear}&month=${selectedMonth}`;\r\n      const res = await fetch(url);\r\n      \r\n      if (!res.ok) {\r\n        throw new Error(`Failed to fetch analytics (Status: ${res.status})`);\r\n      }\r\n\r\n      const data = await res.json();\r\n      setAnalyticsData(data);\r\n\r\n    } catch (err) {\r\n      setError(err.message);\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchAnalytics();\r\n  }, [selectedMonth, selectedYear]);\r\n\r\n\r\n  const renderContent = () => {\r\n    if (loading) return <p>Loading analytics...</p>;\r\n    if (error) return <p style={{ color: 'red' }}>Error: {error}</p>;\r\n    if (!analyticsData || analyticsData.totalSpending === \"0.00\") {\r\n      return <p>No expense data found for the selected month.</p>;\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h4>Summary for {monthNames[parseInt(selectedMonth, 10) - 1]} {selectedYear}</h4>\r\n        <p><strong>Total Spending:</strong> ${analyticsData.totalSpending}</p>\r\n        <p><strong>Avg. Daily Expenditure:</strong> ${analyticsData.averageDailyExpenditure}</p>\r\n        \r\n        <h5>Category Breakdown:</h5>\r\n        <ul>\r\n          {analyticsData.categoryBreakdown.map((item, index) => (\r\n            <li key={index}>\r\n              {item.category}: ${item.total}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div style={{ border: '1px solid #ddd', padding: '20px', margin: '20px 0', background: '#f9f9f9' }}>\r\n      <h3>Analytics</h3>\r\n      \r\n      {/* Month/Year Selector */}\r\n      <div style={{ marginBottom: '15px' }}>\r\n        <select \r\n          value={selectedMonth} \r\n          onChange={(e) => setSelectedMonth(e.target.value)}\r\n          style={{ marginRight: '10px' }}\r\n        >\r\n          {monthNames.map((name, index) => (\r\n            <option key={index + 1} value={String(index + 1).padStart(2, '0')}>\r\n              {name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <input\r\n          type=\"number\"\r\n          value={selectedYear}\r\n          onChange={(e) => setSelectedYear(e.target.value)}\r\n          min=\"2000\"\r\n          max={String(now.getFullYear() + 1)}\r\n          style={{ width: '80px' }}\r\n        />\r\n      </div>\r\n      \r\n      {renderContent()}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}